<div class="fill">
	<div class="container content mt-3" scroll-glue>
		<div class="row mb-2" ng-repeat="message in vm.messages">
			<div class="col-3 col-sm-1">
				<img class="rounded img-fluid" ng-src="content/images/{{message.image}}.png">
			</div>
			<div class="col">
				<div class="card" ng-class="message.user == 'me' ? 'card-outline-warning' : 'card-outline-info'">
					<div class="card-block">
						<span class="card-title"><strong class="capitalize">{{message.user}}</strong></span>
            <span class="card-subtitle"><small class="ml-1 text-muted">{{message.timestamp | amDateFormat: 'HH:mm'}}</small></span>
            <div ng-if="message.type == 'text'">
						<p class="card-text"> {{message.content}} </p>
            <audio ng-show="message.user != 'me'" src="{{message.audio}}" autoplay></audio>
          </div>
          <div ng-if="message.type == 'list'">
              <p class="card-text"> {{message.content}} </p>
              <audio ng-show="message.user != 'me'" src="{{message.audio}}" autoplay></audio>
            <ul class="list-group">
              <li class="list-group-item justify-content-between" ng-repeat="element in message.list.elements">
                <strong>{{element.title}}</strong>
                <span class="badge badge-default badge-pill">{{element.subtitle}}</span>
                <button type="button" class="btn btn-primary">{{element.buttons[0].title}}</button>
              </li>
            </ul>
          </div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="container hidden-sm-down fixed-bottom mb-5">
		<div class="row">
			<div class="col">
				<form ng-submit="vm.submit()">
					<div class="input-group">
						<span class="input-group-btn">
					<button type="button" ng-click="vm.toggleRecording()" class="btn btn-lg" ng-class="vm.isRecording() ? 'btn-danger' : 'btn-success'">
						<i class="fa fa-2x" ng-class="vm.isRecording() ? 'fa-microphone-slash' : 'fa-microphone'" aria-hidden="true"></i>
			</button>
				</span>
						<input type="text" class="form-control" ng-model="vm.text" placeholder="{{ 'home.form.placeholder' | translate }}" />
					</div>
				</form>
			</div>
		</div>
	</div>

	<div class="hidden-sm-up fixed-bottom">
		<div class="row">
			<div class="col">
				<form ng-submit="vm.submit()">
					<div class="input-group">
						<span class="input-group-btn">
					<button type="button" ng-click="vm.toggleRecording()" class="btn no-rounded" ng-class="vm.isRecording() ? 'btn-danger' : 'btn-success'">
						<i class="fa fa-2x" ng-class="vm.isRecording() ? 'fa-microphone-slash' : 'fa-microphone'" aria-hidden="true"></i>
			</button>
				</span>
						<input type="text" class="form-control no-rounded" ng-model="vm.text" placeholder="{{ 'home.form.placeholder' | translate }}" />
					</div>
				</form>
			</div>
		</div>
	</div>


</div>
